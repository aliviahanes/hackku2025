<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Let's Eat - Meal Planning Made Easy</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
    <link
    href="https://fonts.googleapis.com/css2?family=Readex+Pro&family=Press+Start+2P&display=swap"
    rel="stylesheet"
  />
    </head>
  <body>
    <div class="page-container">
      <div class="content-wrapper">
        <header class="main-header">
          <div class="logo-container">
            <img src="https://www.pngkey.com/png/full/131-1314538_food-icon-png.png" alt="Let's Eat Logo" />
            <h1 class="logo-text">Let's Eat!</h1>
          </div>
          <nav class="main-nav">
            <a href="{{ url_for('home') }}" class="nav-link nav-link-active">Home</a>
            <a href="{{ url_for('recipes') }}" class="nav-link nav-link-active">Recipes</a> 
            <a href="{{ url_for('planner') }}" class="nav-link nav-link-active">Meal Planner</a>
            <a href="{{ url_for('grocery') }}" class="nav-link nav-link-active">Grocery List</a>
            </ul>
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/b3ecdc8477378817172451e92e235e97225314b2" alt="User Profile" class="profile-icon" />
          </nav>
          <button class="mobile-menu-toggle">
            <i class="ti ti-menu-2"></i>
          </button>
        </header>

        <main class="main-content">
          <section class="hero-section">
            <h1 class="hero-title">Let's Eat!</h1>
            <form action="{{ url_for('planner') }}">
              <button class="start-plan-button" type="submit">START PLANNING YOUR MEALS</button>          </section>

          <section class="featured-recipes">
            <h2 class="section-title">Featured Recipes</h2>
            <p class="section-description">
              Here are a list of popular recipes:
            </p>

            <div class="recipe-grid">
              <!-- Recipe Card 1 -->
              <article class="recipe-card">
                <div class="recipe-image-container">
                  <img
                    src="https://cdn.builder.io/api/v1/image/assets/TEMP/792a76ef8019a22941963bb553698be066c6ced2"
                    alt="Salad background"
                    class="recipe-background"
                  />
                  <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/b0a29394ebc19956578d67cb3688e3f1db5e8600" alt="Salad" class="recipe-food" />
                </div>
                <div class="recipe-details">
                  <h3 class="recipe-title">Caesar Salad</h3>
                  <p class="recipe-time">Time est: 20m</p>
                  <div class="recipe-footer">
                    <p class="recipe-price">$ 12.3</p>
                    <div class="like-button">
                      <svg
                        width="25"
                        height="25"
                        viewBox="0 0 25 25"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12.4644 6.53384C8.79122 0.860122 1.35693 3.95098 1.35693 10.1315C1.35693 14.7727 11.5489 22.0327 12.4644 22.9767C13.3861 22.0327 23.0712 14.7727 23.0712 10.1315C23.0712 3.99784 16.1444 0.860122 12.4644 6.53384Z"
                          fill="#FFCB45"
                        ></path>
                      </svg>
                    </div>
                  </div>
                </div>
              </article>

              <!-- Recipe Card 2 -->
              <article class="recipe-card">
                <div class="recipe-image-container">
                  <img
                    src="https://cdn.builder.io/api/v1/image/assets/TEMP/792a76ef8019a22941963bb553698be066c6ced2"
                    alt="Chicken Drumstick background"
                    class="recipe-background"
                  />
                  <img
                    src="https://cdn.builder.io/api/v1/image/assets/TEMP/b86d391b722e0f63198e80efa4f58413b1e86272"
                    alt="Chicken Drumstick"
                    class="recipe-food"
                  />
                </div>
                <div class="recipe-details">
                  <h3 class="recipe-title">Soy Marinated Chicken</h3>
                  <p class="recipe-time">Time Est: 50m</p>
                  <div class="recipe-footer">
                    <p class="recipe-price">$ 7.99</p>
                    <div class="like-button">
                      <svg
                        width="25"
                        height="25"
                        viewBox="0 0 25 25"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12.4644 6.53384C8.79122 0.860122 1.35693 3.95098 1.35693 10.1315C1.35693 14.7727 11.5489 22.0327 12.4644 22.9767C13.3861 22.0327 23.0712 14.7727 23.0712 10.1315C23.0712 3.99784 16.1444 0.860122 12.4644 6.53384Z"
                          fill="#1D1D1D"
                          fill-opacity="0.7"
                        ></path>
                      </svg>
                    </div>
                  </div>
                </div>
              </article>

              <!-- Recipe Card 3 -->
              <article class="recipe-card">
                <div class="recipe-image-container">
                  <img
                    src="https://cdn.builder.io/api/v1/image/assets/TEMP/792a76ef8019a22941963bb553698be066c6ced2"
                    alt="Pizza background"
                    class="recipe-background"
                  />
                  <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/4b8e61f906a380516dc55be152155dc09412bdfe" alt="Pizza" class="recipe-food" />
                </div>
                <div class="recipe-details">
                  <h3 class="recipe-title">Hawaian Pizza</h3>
                  <p class="recipe-time">Time Est: 30m</p>
                  <div class="recipe-footer">
                    <p class="recipe-price">$ 25.2</p>
                    <div class="like-button">
                      <svg
                        width="25"
                        height="25"
                        viewBox="0 0 25 25"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12.4644 6.53384C8.79122 0.860122 1.35693 3.95098 1.35693 10.1315C1.35693 14.7727 11.5489 22.0327 12.4644 22.9767C13.3861 22.0327 23.0712 14.7727 23.0712 10.1315C23.0712 3.99784 16.1444 0.860122 12.4644 6.53384Z"
                          fill="#1D1D1D"
                          fill-opacity="0.7"
                        ></path>
                      </svg>
                    </div>
                  </div>
                </div>
              </article>

              <!-- Recipe Card 4 -->
              <article class="recipe-card">
                <div class="recipe-image-container">
                  <img
                    src="https://cdn.builder.io/api/v1/image/assets/TEMP/792a76ef8019a22941963bb553698be066c6ced2"
                    alt="Tacos background"
                    class="recipe-background"
                  />
                  <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/0d0336ad01debc1437dce50ced384f4e28924170" alt="Tacos" class="recipe-food" />
                </div>
                <div class="recipe-details">
                  <h3 class="recipe-title">Birria Tacos</h3>
                  <p class="recipe-time">Time Est: 40m</p>
                  <div class="recipe-footer">
                    <p class="recipe-price">$ 18.1</p>
                    <div class="like-button">
                      <svg
                        width="25"
                        height="25"
                        viewBox="0 0 25 25"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12.4644 6.53384C8.79122 0.860122 1.35693 3.95098 1.35693 10.1315C1.35693 14.7727 11.5489 22.0327 12.4644 22.9767C13.3861 22.0327 23.0712 14.7727 23.0712 10.1315C23.0712 3.99784 16.1444 0.860122 12.4644 6.53384Z"
                          fill="#1D1D1D"
                          fill-opacity="0.7"
                        ></path>
                      </svg>
                    </div>
                  </div>
                </div>
              </article>
            </div>
          </section>
        </main>

        <section class="about-section">
          <h2 class="about-title">About US</h2>
          <p class="about-description">
            At Let's Eat we make cooking easier and more fun! Our platform helps
            you discover recipes based on the ingredients you already have, plan
            meals for the week, and generate a grocery listâ€”all in one place.
            With our easy-to-use Recipe Finder, personalized Meal Planner, and
            automatic Grocery List, you'll never struggle with what to cook
            again. Say goodbye to last-minute trips to the store and hello to
            stress-free meal planning! Join us and start cooking smarter today!
          </p>
        </section>
      </div>
    </div>
    <script>
document.addEventListener("DOMContentLoaded", () => {
  // Function to get recipes based on user input
  const getRecipes = async () => {
    const userFoodInput = document.querySelector("#user-food-input").value;
    if (!userFoodInput) {
      alert("Please enter food items.");
      return;
    }

    try {
      const response = await fetch("/api/get_recipes", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ user_food: userFoodInput }),
      });

      const data = await response.json();
      if (data.error) {
        alert(data.error);
      } else {
        const recipesContainer = document.querySelector("#recipes-container");
        recipesContainer.innerHTML = ""; // Clear previous results
        data.recipes.forEach((recipe) => {
          const recipeElement = document.createElement("p");
          recipeElement.textContent = recipe;
          recipesContainer.appendChild(recipeElement);
        });
      }
    } catch (error) {
      console.error("Error fetching recipes:", error);
    }
  };

  // Function to generate a meal plan
  const generateMealPlan = async () => {
    const mealPerWeekInput = document.querySelector("#meal-per-week-input").value || 7;

    try {
      const response = await fetch("/api/generate_meal_plan", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ meal_per_week: mealPerWeekInput }),
      });

      const data = await response.json();
      const mealPlanContainer = document.querySelector("#meal-plan-container");
      mealPlanContainer.textContent = data.meal_plan;
    } catch (error) {
      console.error("Error generating meal plan:", error);
    }
  };

  // Event listeners for buttons
  document.querySelector("#get-recipes-button").addEventListener("click", getRecipes);
  document.querySelector("#generate-meal-plan-button").addEventListener("click", generateMealPlan);
});
</script>
  </body>
</html>
